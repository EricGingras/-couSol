!function(t){function e(e){for(var i,s,a=e[0],c=e[1],u=e[2],f=0,d=[];f<a.length;f++)s=a[f],Object.prototype.hasOwnProperty.call(o,s)&&o[s]&&d.push(o[s][0]),o[s]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(t[i]=c[i]);for(l&&l(e);d.length;)d.shift()();return r.push.apply(r,u||[]),n()}function n(){for(var t,e=0;e<r.length;e++){for(var n=r[e],i=!0,a=1;a<n.length;a++){var c=n[a];0!==o[c]&&(i=!1)}i&&(r.splice(e--,1),t=s(s.s=n[0]))}return t}var i={},o={42:0},r=[];function s(e){if(i[e])return i[e].exports;var n=i[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=t,s.c=i,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},s.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)s.d(n,i,function(e){return t[e]}.bind(null,i));return n},s.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="";var a=window.webpackJsonp=window.webpackJsonp||[],c=a.push.bind(a);a.push=e,a=a.slice();for(var u=0;u<a.length;u++)e(a[u]);var l=c;r.push([1190,1,0]),n()}({0:function(t,e,n){"use strict";function i(t,e,n,i,o,r,s,a){var c,u="function"==typeof t?t.options:t;if(e&&(u.render=e,u.staticRenderFns=n,u._compiled=!0),i&&(u.functional=!0),r&&(u._scopeId="data-v-"+r),s?(c=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),o&&o.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(s)},u._ssrRegister=c):o&&(c=a?function(){o.call(this,(u.functional?this.parent:this).$root.$options.shadowRoot)}:o),c)if(u.functional){u._injectStyles=c;var l=u.render;u.render=function(t,e){return c.call(e),l(t,e)}}else{var f=u.beforeCreate;u.beforeCreate=f?[].concat(f,c):[c]}return{exports:t,options:u}}n.d(e,"a",(function(){return i}))},1:function(t,e,n){"use strict";n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return a}));var i=n(2);function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var r=function(t){return t?"is-".concat(t,"-theme"):"is-dark-theme"},s=function(t,e){return"".concat(t,"__").concat(e)},a=function(t,e){var n;return o(n={},"".concat(t,"_radius-tl"),-1!==e.indexOf(i.d.tl)),o(n,"".concat(t,"_radius-tr"),-1!==e.indexOf(i.d.tr)),o(n,"".concat(t,"_radius-bl"),-1!==e.indexOf(i.d.bl)),o(n,"".concat(t,"_radius-br"),-1!==e.indexOf(i.d.br)),n}},1190:function(t,e,n){t.exports=n(1283)},1191:function(t,e,n){"use strict";n(898)},1192:function(t,e,n){"use strict";n(899)},1193:function(t,e,n){"use strict";n(900)},1283:function(t,e,n){"use strict";function i(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function o(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?i(Object(n),!0).forEach((function(e){r(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}n.r(e);var s=new(0,window.__APP__.library.Vuex.Store)({state:{items:[]},mutations:{setItems:function(t,e){var n,i,r,s,a=null===(n=window.__CORE__)||void 0===n||null===(i=n.response)||void 0===i||null===(r=i.metadata)||void 0===r?void 0:r.projectTypeName,c=a&&"eagle"===a.toLowerCase();t.items=Array.isArray(e)?c?(s=e,Array.isArray(s)?s.length<=1?s:s.map((function(t){var e=+t.text.split(".").slice(0,-1).join(".").split("_").pop();return o(o({},t),{},{text:isNaN(e)?t.text:"Sheet ".concat(e+1)})})):[]):e:[]}}}),a=s,c=function(){var t=this,e=t._self._c;return e("div",{staticClass:"preview-panel"},[t.hasExpired?e("ItemPlaceholder",{attrs:{icon:"info-16"},on:{"click-link":t.onRefreshPage},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" New visualization is available ")]},proxy:!0},{key:"link",fn:function(){return[t._v(" Refresh Page ")]},proxy:!0}])}):e("div",{staticClass:"preview-panel__list"},[t._l(t.items,(function(n){return[n.groupTitle?e("AfsText",{key:n.id+"_title",staticClass:"preview-panel__group-title",attrs:{type:"single line",ellipsis:""}},[e("AfsIcon",{attrs:{name:n.groupIcon,filled:n.groupIconFilled}}),t._v("\n        "+t._s(n.groupTitle)+"\n      ")],1):t._e(),t._v(" "),e("Item",{key:n.id,ref:"items",refInFor:!0,staticClass:"preview-panel__item",attrs:{img:n.img,"is-selected":n.isSelected,text:n.groupItemTitle||t.formatName(n),"modification-kind":n.modificationKind,"diffs-count":n.diffsCount},nativeOn:{click:function(e){return t.onItemClick(n.id)}}})]}))],2)],1)};c._withStripped=!0;var u=n(5),l=n(4),f=function(t){if(t.split(".").length<=1)return t;var e=t.split(".").slice(0,-1).join("."),n=e.split("_");return parseInt(n[0])?"[".concat(n[0],"] ").concat(n.join("_")):e},d=function(){var t=this,e=t._self._c;return e("div",{staticClass:"preview-item",class:{"is-selected":t.isSelected}},[t.img?e("LibLazyImage",{directives:[{name:"hint",rawName:"v-hint:[documentHintId]",arg:t.documentHintId}],staticClass:"preview-item__img",attrs:{src:t.img,ratio:"200/136"}}):t._e(),t._v(" "),e("div",{staticClass:"preview-item__title-wrapper"},[t.icon?e("div",{staticClass:"preview-item__icon-wrapper"},[e("AfsIcon",{directives:[{name:"hint",rawName:"v-hint:[modificationHintId]",arg:t.modificationHintId}],staticClass:"preview-item__icon",attrs:{name:t.icon,filled:""}})],1):t._e(),t._v(" "),e("AfsText",{directives:[{name:"trim",rawName:"v-trim",value:{hint:t.text,delay:50},expression:"{ hint: text, delay: 50 }"}],staticClass:"preview-item__text",attrs:{ellipsis:""}},[t._v(t._s(t.text))])],1),t._v(" "),e("AfsContextMenu",{attrs:{id:t.modificationHintId,modifiers:{y:"bottom",x:"start"},type:"hint"}},[t._v("\n    "+t._s(t.modificationHintText)+"\n    "),e("br"),t._v("\n    "+t._s(t.modificationDiffsCountHintText)+"\n  ")]),t._v(" "),e("AfsContextMenu",{attrs:{id:t.documentHintId,modifiers:{y:"bottom",x:"start"},type:"hint"}},[t._v("\n    "+t._s(t.text)+"\n  ")])],1)};d._withStripped=!0;var p=n(8),h=n(7),m=n.n(h),y=n(16),v=n.n(y),b=n(84),g=n.n(b),w={added:"compare-object-added-16",updated:"compare-object-modified-16",removed:"compare-object-removed-16"},x={added:"Added sheet",updated:"Modified sheet",removed:"Removed sheet"},_={name:"Item",components:{AfsText:u.a,AfsIcon:l.a,AfsContextMenu:p.a},directives:{hint:v.a,trim:g.a},props:{img:{type:String,default:""},isSelected:{type:Boolean,default:!1},text:{type:String,default:""},modificationKind:{type:String,default:null},diffsCount:{type:Number,default:null}},data:function(){return{documentHintId:m()(),modificationHintId:m()()}},computed:{modificationHintText:function(){return x[this.modificationKind]||null},modificationDiffsCountHintText:function(){return this.diffsCount&&"updated"===this.modificationKind?"".concat(this.diffsCount," difference(s) detected on the sheet"):null},icon:function(){return w[this.modificationKind]||null}}},O=(n(1191),n(0)),S=Object(O.a)(_,d,[],!1,null,"d912afc6",null).exports,P=function(){var t=this,e=t._self._c;return e("div",{staticClass:"item-placeholder"},[t.icon?e("AfsIcon",{staticClass:"item-placeholder__icon",attrs:{name:t.icon,filled:""}}):t._e(),t._v(" "),t.hasSlot("title")?e("AfsText",{staticClass:"item-placeholder__title",attrs:{type:"large title"}},[t._t("title")],2):t._e(),t._v(" "),t.hasSlot("link")?e("AfsLink",{attrs:{href:"#"},on:{click:t.onLinkClick}},[t._t("link")],2):t._e()],1)};P._withStripped=!0;var j=n(26),C={name:"ItemPlaceholder",components:{AfsIcon:l.a,AfsText:u.a,AfsLink:j.a},props:{icon:{type:String,default:""}},methods:{hasSlot:function(t){return!!this.$slots[t]},onLinkClick:function(t){this.$emit("click-link")}}},E=(n(1192),Object(O.a)(C,P,[],!1,null,null,null).exports);function D(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function I(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?D(Object(n),!0).forEach((function(e){k(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):D(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function k(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var T=window.__CORE__,M=window.__APP__,A=M.analytics,B=M.library.Vuex,z=B.mapMutations,L=B.mapState,N={name:"PreviewPanel",components:{Item:S,ItemPlaceholder:E,AfsText:u.a,AfsIcon:l.a},computed:I(I({},L(["items"])),{},{hasExpired:function(){return this.items.some((function(t){return t.isExpired}))}}),beforeCreate:function(){var t=this;T.bus.on("PreviewPanel:activate",(function(){return t.scrollTo()}))},mounted:function(){this.scrollTo()},methods:I(I({},z(["setItems"])),{},{scrollTo:function(){if(!this.hasExpired&&this.$el){this.$el.scrollTo(0,0);var t=this.items.findIndex((function(t){return t.isSelected}));if(-1!==t){var e=this.$refs.items[t].$el,n=this.$el.getBoundingClientRect().top,i=e.getBoundingClientRect().top;this.$el.scrollTo(0,i-n-16)}}},onItemClick:function(t){this.setItems(this.items.map((function(e){return I(I({},e),{},{isSelected:t===e.id})}))),A.dispatchPanelsEvent("SchDocumentList",{action:"Click"}),T.bus.emit("PreviewPanel:select",t)},formatName:function(t){return f(t.text)},onRefreshPage:function(){T.bus.emit("reloadPage")}})},R=(n(1193),Object(O.a)(N,c,[],!1,null,"4b80ebe2",null).exports),V=window.__APP__;function $(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function H(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var W=function(){function t(e,n,i){var o=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),H(this,"panel",void 0),H(this,"documentViewName",void 0),H(this,"logger",void 0),H(this,"core",void 0),H(this,"didDocumentChanged",(function(){o.panel.items.forEach((function(t,e){return t.isSelected=e===o.activeDocumentIndex})),o.core.bus.emit("PreviewPanel:updateInterface",{displayName:f(o.displayName)})})),this.core=e,this.documentViewName=n,this.panel=i,this.logger=e.createLogger("".concat(n,"ViewObserver"))}var e,n,i;return e=t,(n=[{key:"data",get:function(){var t=this;return this.allDocuments.map((function(e,n){return t.toPreviewDocument(e,n)}))}},{key:"displayName",get:function(){return""}},{key:"allDocuments",get:function(){return[]}},{key:"activeDocumentIndex",get:function(){return-1}},{key:"setup",value:function(){this.logger.LogDebug("Setup"),this.didPanelSelect=this.didPanelSelect.bind(this),this.onDocumentViewActivate=this.onDocumentViewActivate.bind(this),this.core.bus.on("View:activate",this.onDocumentViewActivate),this.onDocumentViewDeactivate=this.onDocumentViewDeactivate.bind(this),this.core.bus.on("View:deactivate",this.onDocumentViewDeactivate),this.onPanelOpen=this.onPanelOpen.bind(this),this.core.bus.on("".concat(this.panel.name,":activate"),this.onPanelOpen)}},{key:"updatePanelState",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];t?(this.panel.items=[],this.panel.hidden=!1):(this.panel.items=this.data,this.panel.hidden=this.panel.items.length<=1)}},{key:"activate",value:function(){this.updatePanelState()}},{key:"didPanelSelect",value:function(t){this.selectDocument(t),this.core.bus.emit("PreviewPanel:disable")}},{key:"onPanelOpen",value:function(){var t={current:""};this.core.bus.emit("View:get",t),t.current===this.documentViewName&&this.activate()}},{key:"onDocumentViewActivate",value:function(t){t.name===this.documentViewName&&(this.logger.LogDebug("Start lookup for ".concat(this.documentViewName)),this.updatePanelState(),this.didDocumentChanged(),this.core.bus.on("".concat(this.documentViewName,":documentChanged"),this.didDocumentChanged),this.core.bus.on("PreviewPanel:select",this.didPanelSelect))}},{key:"onDocumentViewDeactivate",value:function(t){t.name===this.documentViewName&&(this.logger.LogDebug("Finish lookup for ".concat(this.documentViewName)),this.updatePanelState(!0),this.core.bus.off("".concat(this.documentViewName,":documentChanged"),this.didDocumentChanged),this.core.bus.off("PreviewPanel:select",this.didPanelSelect))}}])&&$(e.prototype,n),i&&$(e,i),Object.defineProperty(e,"prototype",{writable:!1}),t}();function F(t){return(F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function G(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function q(t,e){return(q=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function X(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=Y(t);if(e){var o=Y(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return U(this,n)}}function U(t,e){if(e&&("object"===F(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return K(t)}function K(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Y(t){return(Y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function J(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Q=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&q(t,e)}(r,t);var e,n,i,o=X(r);function r(t,e){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),J(K(n=o.call(this,t,"SCHView",e)),"documents",void 0),J(K(n),"currentDocumentId",void 0),n.documents=[],n.core.bus.on("SCHView:documents",(function(t){n.documents=t})),n.currentDocumentId="",n.core.bus.on("SchEngine:didDocumentAttach",(function(t){n.currentDocumentId=t.uniqueId})),n.core.bus.on("SchEngine:didDocumentAttachError",(function(t){n.currentDocumentId=t.documentId})),n}return e=r,(n=[{key:"displayName",get:function(){var t,e,n,i=this,o=this.allDocuments.find((function(t){return t.uniqueId===i.currentDocumentId}));if(!o)return"(".concat(this.allDocuments.length,") undefined");var r=parseInt(o.displayName.split(".").slice(0,-1).join(".").split("_").pop()||"");return"eagle"!==((null===(t=this.core)||void 0===t||null===(e=t.response)||void 0===e||null===(n=e.metadata)||void 0===n?void 0:n.projectTypeName)||"").toLowerCase()||isNaN(r)?"".concat(o.displayName):"Sheet ".concat(r+1)}},{key:"activeDocumentIndex",get:function(){var t=this;return this.allDocuments.findIndex((function(e){return e.uniqueId===t.currentDocumentId}))}},{key:"allDocuments",get:function(){return this.documents}},{key:"selectDocument",value:function(t){this.core.bus.emit("SCHView:showDocument",t)}},{key:"toPreviewDocument",value:function(t,e){var n={id:t.uniqueId,img:"",text:t.displayName,isSelected:e===this.activeDocumentIndex};return Object.defineProperty(n,"img",{get:function(){return t.previewUrl}}),n}}])&&G(e.prototype,n),i&&G(e,i),Object.defineProperty(e,"prototype",{writable:!1}),r}(W);function Z(t){return(Z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function tt(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function et(t,e){return(et=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function nt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=rt(t);if(e){var o=rt(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return it(this,n)}}function it(t,e){if(e&&("object"===Z(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return ot(t)}function ot(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function rt(t){return(rt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function st(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var at=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&et(t,e)}(r,t);var e,n,i,o=nt(r);function r(t,e){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),st(ot(n=o.call(this,t,"PCBDWFView",e)),"documents",void 0),st(ot(n),"currentDocument",null),n.documents=[],n.core.bus.on("PCBDWFView:documents",(function(t){n.documents=t})),n.core.bus.on("PCBDWFView:documentChanged",(function(t){n.currentDocument=t,n.activate()})),n}return e=r,(n=[{key:"updatePanelState",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];t?(this.panel.items=[],this.panel.hidden=!1):(this.panel.items=this.data,this.panel.hidden=!this.panel.items.length)}},{key:"displayName",get:function(){return this.currentDocument?this.currentDocument.displayName:"Loading..."}},{key:"activeDocumentIndex",get:function(){var t=this;return this.allDocuments.findIndex((function(e){return e===t.currentDocument}))}},{key:"allDocuments",get:function(){var t=this;return this.documents.filter((function(e){var n;return e.name===(null===(n=t.currentDocument)||void 0===n?void 0:n.name)}))}},{key:"selectDocument",value:function(t){this.core.bus.emit("PCBDWFView:showDocument",this.documents.find((function(e){return e.id===t})))}},{key:"toPreviewDocument",value:function(t,e){return{id:t.uniqueId,get img(){return t.previewUrl},text:t.displayName,isSelected:t===this.currentDocument,groupTitle:t.groupTitle,groupIcon:t.groupIcon,groupItemTitle:t.groupItemTitle,groupIconFilled:t.groupIconFilled}}}])&&tt(e.prototype,n),i&&tt(e,i),Object.defineProperty(e,"prototype",{writable:!1}),r}(W);function ct(t){return(ct="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ut(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ut=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",r=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function a(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{a({},"")}catch(t){a=function(t,e,n){return t[e]=n}}function c(t,e,n,i){var o=e&&e.prototype instanceof f?e:f,r=Object.create(o.prototype),s=new O(i||[]);return r._invoke=function(t,e,n){var i="suspendedStart";return function(o,r){if("executing"===i)throw new Error("Generator is already running");if("completed"===i){if("throw"===o)throw r;return P()}for(n.method=o,n.arg=r;;){var s=n.delegate;if(s){var a=w(s,n);if(a){if(a===l)continue;return a}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===i)throw i="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i="executing";var c=u(t,e,n);if("normal"===c.type){if(i=n.done?"completed":"suspendedYield",c.arg===l)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(i="completed",n.method="throw",n.arg=c.arg)}}}(t,n,s),r}function u(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var l={};function f(){}function d(){}function p(){}var h={};a(h,o,(function(){return this}));var m=Object.getPrototypeOf,y=m&&m(m(S([])));y&&y!==e&&n.call(y,o)&&(h=y);var v=p.prototype=f.prototype=Object.create(h);function b(t){["next","throw","return"].forEach((function(e){a(t,e,(function(t){return this._invoke(e,t)}))}))}function g(t,e){var i;this._invoke=function(o,r){function s(){return new e((function(i,s){!function i(o,r,s,a){var c=u(t[o],t,r);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"==ct(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){i("next",t,s,a)}),(function(t){i("throw",t,s,a)})):e.resolve(f).then((function(t){l.value=t,s(l)}),(function(t){return i("throw",t,s,a)}))}a(c.arg)}(o,r,i,s)}))}return i=i?i.then(s,s):s()}}function w(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var i=u(n,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,l;var o=i.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function _(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function S(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,r=function e(){for(;++i<t.length;)if(n.call(t,i))return e.value=t[i],e.done=!1,e;return e.value=void 0,e.done=!0,e};return r.next=r}}return{next:P}}function P(){return{value:void 0,done:!0}}return d.prototype=p,a(v,"constructor",p),a(p,"constructor",d),d.displayName=a(p,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,a(t,s,"GeneratorFunction")),t.prototype=Object.create(v),t},t.awrap=function(t){return{__await:t}},b(g.prototype),a(g.prototype,r,(function(){return this})),t.AsyncIterator=g,t.async=function(e,n,i,o,r){void 0===r&&(r=Promise);var s=new g(c(e,n,i,o),r);return t.isGeneratorFunction(n)?s:s.next().then((function(t){return t.done?t.value:s.next()}))},b(v),a(v,s,"Generator"),a(v,o,(function(){return this})),a(v,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var i=e.pop();if(i in t)return n.value=i,n.done=!1,n}return n.done=!0,n}},t.values=S,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function i(n,i){return s.type="throw",s.arg=t,e.next=n,i&&(e.method="next",e.arg=void 0),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var r=this.tryEntries[o],s=r.completion;if("root"===r.tryLoc)return i("end");if(r.tryLoc<=this.prev){var a=n.call(r,"catchLoc"),c=n.call(r,"finallyLoc");if(a&&c){if(this.prev<r.catchLoc)return i(r.catchLoc,!0);if(this.prev<r.finallyLoc)return i(r.finallyLoc)}else if(a){if(this.prev<r.catchLoc)return i(r.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<r.finallyLoc)return i(r.finallyLoc)}}}},abrupt:function(t,e){for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var r=o;break}}r&&("break"===t||"continue"===t)&&r.tryLoc<=e&&e<=r.finallyLoc&&(r=null);var s=r?r.completion:{};return s.type=t,s.arg=e,r?(this.method="next",this.next=r.finallyLoc,l):this.complete(s)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),_(n),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var i=n.completion;if("throw"===i.type){var o=i.arg;_(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:S(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},t}function lt(t,e,n,i,o,r,s){try{var a=t[r](s),c=a.value}catch(t){return void n(t)}a.done?e(c):Promise.resolve(c).then(i,o)}function ft(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function dt(t,e){return(dt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function pt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=yt(t);if(e){var o=yt(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return ht(this,n)}}function ht(t,e){if(e&&("object"===ct(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return mt(t)}function mt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function yt(t){return(yt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function vt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var bt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&dt(t,e)}(a,t);var e,n,i,o,r,s=pt(a);function a(t,e){var n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),vt(mt(n=s.call(this,t,"PDFView",e)),"buffer",void 0),vt(mt(n),"currentDocumentId",void 0),vt(mt(n),"documents",void 0),vt(mt(n),"renderingStopImmediately",void 0),n.buffer=document.createElement("canvas"),n.currentDocumentId="",n.documents=[],n.renderingStopImmediately=!1;var i=n.core.bus;return i.on("PDFView:cleanPreview",n.cleanPreview.bind(mt(n))),i.on("PDFView:buildPreview",n.renderPreviews.bind(mt(n))),i.on("PDFView:documentChanged",(function(t){return n.currentDocumentId=t.toString()})),n}return e=a,(n=[{key:"displayName",get:function(){var t=this,e=this.allDocuments.find((function(e){return e.id===t.currentDocumentId}));return e?e.text:"Loading..."}},{key:"activeDocumentIndex",get:function(){var t=this;return this.allDocuments.findIndex((function(e){return e.id===t.currentDocumentId}))}},{key:"allDocuments",get:function(){return this.documents}},{key:"selectDocument",value:function(t){this.core.bus.emit("PDFView:scrollToPage",parseInt(t))}},{key:"toPreviewDocument",value:function(t,e){return{id:t.id,img:t.img,text:t.text,isSelected:e===this.activeDocumentIndex}}},{key:"cleanPreview",value:function(){this.core.bus.emit("PreviewPanel:disable"),this.panel.items=[],this.documents=[],this.renderingStopImmediately=!0}},{key:"renderPreviews",value:(o=ut().mark((function t(e){var n,i,o,r,s;return ut().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=this.buffer,i=e.numPages,this.documents=[],this.renderingStopImmediately=!1,o=1;case 5:if(!(o<=i)){t.next=20;break}return t.next=8,e.getPage(o);case 8:return r=t.sent,s=r.getViewport({scale:.25}),n.width=Math.floor(s.width),n.height=Math.floor(s.height),t.next=14,r.render({canvasContext:n.getContext("2d",{alpha:!1}),intent:"display",includeAnnotationStorage:!1,viewport:s}).promise;case 14:if(!this.renderingStopImmediately){t.next=16;break}return t.abrupt("return");case 16:this.documents.push({id:o.toString(),img:n.toDataURL(),text:"Page ".concat(o),isSelected:!1});case 17:o++,t.next=5;break;case 20:this.currentDocumentId=this.documents[0].id,this.panel.items=this.documents,this.panel.hidden=!1;case 23:case"end":return t.stop()}}),t,this)})),r=function(){var t=this,e=arguments;return new Promise((function(n,i){var r=o.apply(t,e);function s(t){lt(r,n,i,s,a,"next",t)}function a(t){lt(r,n,i,s,a,"throw",t)}s(void 0)}))},function(t){return r.apply(this,arguments)})}])&&ft(e.prototype,n),i&&ft(e,i),Object.defineProperty(e,"prototype",{writable:!1}),a}(W);function gt(t){return(gt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function wt(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function xt(t,e){return(xt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function _t(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=Pt(t);if(e){var o=Pt(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return Ot(this,n)}}function Ot(t,e){if(e&&("object"===gt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return St(t)}function St(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Pt(t){return(Pt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function jt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Ct=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&xt(t,e)}(r,t);var e,n,i,o=_t(r);function r(t,e){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),jt(St(n=o.call(this,t,"SchCompareView",e)),"documents",[]),jt(St(n),"currentDocumentId",void 0),jt(St(n),"didDocumentChanged",(function(){n.panel.items.forEach((function(t,e){return t.isSelected=e===n.activeDocumentIndex}));var t=f(n.displayName);n.core.bus.emit("PreviewPanel:updateInterface",{displayName:t})})),n.documents=[],n.core.bus.on("SchCompareEngine:documents",(function(t){n.documents=t})),n.currentDocumentId="",n.core.bus.on("SchCompareEngine:didDocumentAttach",(function(t){n.currentDocumentId=t.uniqueId,n.didDocumentChanged()})),n.core.bus.on("SchCompareEngine:didDocumentAttachError",(function(t){n.currentDocumentId=t.uniqueId,n.didDocumentChanged()})),n}return e=r,(n=[{key:"displayName",get:function(){var t,e,n,i=this,o=this.allDocuments.find((function(t){return t.uniqueId===i.currentDocumentId}));if(!o)return"";var r=parseInt(o.displayName.split(".").slice(0,-1).join(".").split("_").pop()||"");return"eagle"!==((null===(t=this.core)||void 0===t||null===(e=t.response)||void 0===e||null===(n=e.metadata)||void 0===n?void 0:n.projectTypeName)||"").toLowerCase()||isNaN(r)?"".concat(o.displayName):"Sheet ".concat(r+1)}},{key:"activeDocumentIndex",get:function(){var t=this;return this.allDocuments.findIndex((function(e){return e.uniqueId===t.currentDocumentId}))}},{key:"allDocuments",get:function(){return this.documents}},{key:"selectDocument",value:function(t){this.core.bus.emit("SchCompareEngine:showDocument",t)}},{key:"toPreviewDocument",value:function(t,e){var n,i,o,r,s,a,c=this.core.response.metadata.LogicalChanges,u=((null===(n=c.Documents)||void 0===n||null===(i=n.find((function(e){return e.Id===t.id})))||void 0===i||null===(o=i.Items)||void 0===o||null===(r=o.filter((function(t){return"NotChanged"!==t.ModificationKind})))||void 0===r?void 0:r.length)||0)+((null===(s=c.Nets)||void 0===s||null===(a=s.filter((function(e){var n;return null==e||null===(n=e.Items)||void 0===n?void 0:n.some((function(e){return e.DocumentId===t.id}))})))||void 0===a?void 0:a.length)||0),l=t.isAdded?"added":t.isRemoved?"removed":u?"updated":null,f={id:t.uniqueId,img:"",text:t.displayName,isSelected:e===this.activeDocumentIndex,modificationKind:l,diffsCount:u,disabled:!!t.isRemoved};return Object.defineProperty(f,"img",{get:function(){return t.previewUrl}}),f}}])&&wt(e.prototype,n),i&&wt(e,i),Object.defineProperty(e,"prototype",{writable:!1}),r}(W);function Et(t){return(Et="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Dt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function It(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Dt(Object(n),!0).forEach((function(e){kt(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Dt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function kt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Tt(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Mt(t,e){return(Mt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function At(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=Lt(t);if(e){var o=Lt(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return Bt(this,n)}}function Bt(t,e){if(e&&("object"===Et(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return zt(t)}function zt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Lt(t){return(Lt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Nt=window.__CORE__,Rt=window.__APP__.createModule,Vt=window.__APP__.analytics,$t=Rt({type:"Plugin",description:"PreviewPanel",create:function(t){return new(function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Mt(t,e)}(r,t);var e,n,i,o=At(r);function r(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(t=o.call(this,{name:"PreviewPanel",displayName:"Preview Panel",displayIcon:"schematic-16",comment:"PreviewPanel",description:"PreviewPanel",dependencies:[],owner:"SchView,PCBDWFView,PDFView,SchCompareView",displayDropdown:!0,view:{type:"modal",config:{type:"aside-left",fullHeight:!1}}})).logger=window.__CORE__.createLogger("PreviewPanel"),t.schViewObserver=new Q(Nt,zt(t)),t.pcbdwfViewObserver=new at(Nt,zt(t)),t.pdfViewObserver=new bt(Nt,zt(t)),t.schCompareViewObserver=new Ct(Nt,zt(t)),t.isHidden=!1,t}return e=r,(n=[{key:"events",get:function(){return["PreviewPanel:select"]}},{key:"hidden",get:function(){return this.isHidden},set:function(t){this.isHidden=t,Nt.bus.emit("PreviewPanel:updateInterface",{hidden:t})}},{key:"items",get:function(){return s.state.items},set:function(t){var e;e=t,s.commit("setItems",e)}},{key:"setup",value:function(){var t=this;return new Promise((function(e){t.logger.LogDebug("Setup"),t.schViewObserver.setup(),t.pcbdwfViewObserver.setup(),t.pdfViewObserver.setup(),t.schCompareViewObserver.setup(),e()}))}},{key:"activate",value:function(){var t;this.logger.LogDebug("Activate"),this.hasView||(this.hasView=!0,this.view=(t=this.metaInfo.name,new V.library.Vue({store:a,data:{afsConfig:window.__APP__.afsConfig},render:function(t){return t(R)}}).$mount("#".concat(t)))),Nt.response.storage.isExpired&&(this.items=this.items.map((function(t){return It(It({},t),{},{isExpired:!0})}))),Vt.dispatchPanelsEvent("SchDocumentList",{action:"Opened"})}},{key:"deactivate",value:function(){this.logger.LogDebug("Deactivate")}}])&&Tt(e.prototype,n),i&&Tt(e,i),Object.defineProperty(e,"prototype",{writable:!1}),r}(t))}});Nt&&Nt.addModule($t)},13:function(t,e,n){"use strict";var i=n(37);e.a={inserted:function(t,e,n){var o=e.arg,r=void 0===o?void 0:o,s=e.value,a=void 0===s?void 0:s,c=n.context,u=void 0===c?void 0:c;(r||a?document.getElementById(r||a):document.body).appendChild(t);try{u.$on("hook:beforeDestroy",(function(){Object(i.a)(this.$parent.$el)&&this.$parent.$el.appendChild(this.$el)}))}catch(t){}},unmounted:function(t){var e;null==t||null===(e=t.parentNode)||void 0===e||e.removeChild(t)}}},16:function(t,e){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}t.exports=function(t){var e={};function i(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,i),o.l=!0,o.exports}return i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==n(t)&&t&&t.__esModule)return t;var o=Object.create(null);if(i.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(o,r,function(e){return t[e]}.bind(null,r));return o},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=1)}([function(t,e){function i(e){return"function"==typeof Symbol&&"symbol"==n(Symbol.iterator)?(t.exports=i=function(t){return n(t)},t.exports.default=t.exports,t.exports.__esModule=!0):(t.exports=i=function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":n(t)},t.exports.default=t.exports,t.exports.__esModule=!0),i(e)}t.exports=i,t.exports.default=t.exports,t.exports.__esModule=!0},function(t,e,n){"use strict";n.r(e);var i=n(0),o=n.n(i),r=(window,function(t){return"function"==typeof t}),s=function(t){return window.__afsComponents&&window.__afsComponents[t]};Object.freeze({SM:"sm",MD:"md",LG:"lg"}),e.default={inserted:function(t,e){var n=e.arg,i=e.value,a="object"===o()(i)&&null!==i&&!Array.isArray(i),c="ontouchstart"in window,u=!(a&&r(i.shouldBeInserted))||i.shouldBeInserted(t);if(!c&&u){var l=a?i.id:n,f=null;t&&t.dataset&&(t.dataset.afsHintControl=l);var d=function(e){var n=s(l);if(n){var o=a&&r(i.onOpen);o&&n.on&&n.on("open",i.onOpen),document.contains(t)&&n.open(t,e),o&&n.off&&n.off("open",i.onOpen)}};null==t||t.addEventListener("mousemove",(function(t){f&&clearTimeout(f);var e=s(l);!a||i.noDelay||e&&(!e||e.showImmediately())?d(t):f=setTimeout((function(){return d(t)}),i.delay||1e3)}),!1),null==t||t.addEventListener("mouseleave",(function(e){f&&clearTimeout(f);var n=s(l);if(n){var o=a&&r(i.onClose);o&&n.on&&n.on("close",i.onClose),n.close(t),o&&n.off&&n.off("close",i.onClose)}}),!1)}}}}])},2:function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"c",(function(){return o})),n.d(e,"d",(function(){return r})),n.d(e,"b",(function(){return s}));var i={isNotouch:"is-notouch",isTouch:"is-touch",isOpened:"is-opened",isActive:"is-active",isSelected:"is-selected",isError:"is-error"},o=(window,function(t){return"function"==typeof t}),r={tl:"top-left",tr:"top-right",bl:"bottom-left",br:"bottom-right"},s={set:function(t){var e=t.id,n=t.component;window.__afsComponents||(window.__afsComponents={}),window.__afsComponents[e]=n},get:function(t){return window.__afsComponents&&window.__afsComponents[t]},delete:function(t){!window.__afsComponents||window.__afsComponents&&!window.__afsComponents[t]||delete window.__afsComponents[t]}};Object.freeze({SM:"sm",MD:"md",LG:"lg"})},24:function(t,e,n){"use strict";var i=function(){var t=this._self._c;return t("svg",this._g({class:this.classList},this.$listeners),[t("use",{attrs:{"xlink:href":this.href}})])};i._withStripped=!0;var o=n(3),r={name:"AfsIcon",props:{name:{type:String,default:""},filled:{type:Boolean,default:!1}},computed:{classList:function(){return"icon icon-".concat(this.name)},href:function(){var t=Object(o.a)(this.$root),e=t.assets?"/"===t.assets.slice(-1)?t.assets.slice(0,-1):t.assets:"/assets";return this.filled?"".concat(e,"/images/afs-svg-sprite-filled.svg#").concat(this.name):"".concat(e,"/images/afs-svg-sprite.svg#").concat(this.name)}}},s=(n(45),n(0)),a=Object(s.a)(r,i,[],!1,null,null,null);e.a=a.exports},26:function(t,e,n){"use strict";var i=n(46);e.a=i.a},29:function(t,e,n){},3:function(t,e,n){"use strict";e.a=function(t){return t.$afsConfig?t.$afsConfig:t.$data&&t.$data.afsConfig?t.$data.afsConfig:window.__APP__&&window.__APP__.afsConfig?window.__APP__.afsConfig:{}}},32:function(t,e,n){},37:function(t,e,n){"use strict";e.a=function(t){return t instanceof Element}},4:function(t,e,n){"use strict";var i=n(24);e.a=i.a},40:function(t,e){"path"in Event.prototype||Object.defineProperty(Event.prototype,"path",{get:function(){for(var t=[],e=this.target;e;)t.push(e),e=e.parentElement;return-1===t.indexOf(window)&&-1===t.indexOf(document)&&t.push(document),-1===t.indexOf(window)&&t.push(window),t}})},42:function(t,e,n){},45:function(t,e,n){"use strict";n(29)},46:function(t,e,n){"use strict";var i=function(){var t=this,e=t._self._c;return e(t.tag,t._g(t._b({tag:"component",staticClass:"afs-link",class:t.classes,attrs:{"data-locator":t.dataLocator}},"component",t.$attrs,!1),t.$listeners),[t.hasIcon&&t.icon?e("Icon",{attrs:{name:t.icon}}):t._e(),t._v(" "),t._t("default",null,{getBEMClass:t.getBEMClass})],2)};i._withStripped=!0;var o=n(1),r=n(3),s={name:"AfsLink",components:{Icon:n(4).a},props:{dataLocator:{type:String,default:"link"},tag:{type:String,default:"a"},primary:{type:Boolean,default:!0},primaryOnAccent:{type:Boolean,default:!1},secondary:{type:Boolean,default:!1},icon:{type:String,default:""},hasIcon:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},computed:{classes:function(){return[this.themeClass,{"is-primary":this.primary,"is-accent":this.primaryOnAccent,"is-secondary":this.secondary,"is-disabled":this.disabled,"has-icon":this.hasIcon&&this.icon}]},themeClass:function(){var t=Object(r.a)(this.$root);return Object(o.c)(t.theme)}},methods:{getBEMClass:function(t){return Object(o.a)("afs-link",t)}}},a=(n(71),n(0)),c=Object(a.a)(s,i,[],!1,null,null,null);e.a=c.exports},47:function(t,e,n){},49:function(t,e,n){"use strict";n(32)},5:function(t,e,n){"use strict";var i=function(){var t=this;return(0,t._self._c)(t.componentType,t._g(t._b({tag:"component",staticClass:"afs-typography",class:[t.typeClass,t.textEllipsisClass]},"component",t.$attrs,!1),t.$listeners),[t._t("default",null,{getBEMClass:t.getBEMClass})],2)};i._withStripped=!0;var o=n(1),r=["large title","medium title","title","paragraph","single line","hint","tooltip","group","sticker","text"],s={name:"AfsText",props:{type:{type:String,default:"paragraph",validator:function(t){return r.includes(t)}},inline:{type:Boolean,default:!1},ellipsis:{type:Boolean,default:!1},tag:{type:String,default:""}},computed:{checkType:function(){return{isLargeTitle:"large title"===this.type,isMediumTitle:"medium title"===this.type,isTitle:"title"===this.type,isParagraph:"paragraph"===this.type,isSingleLine:"single line"===this.type,isHint:"hint"===this.type,isTooltip:"tooltip"===this.type,isGroup:"group"===this.type,isSticker:"sticker"===this.type,isText:"text"===this.type}},textEllipsisClass:function(){return{"afs-typography_ellipsis":this.checkType.isSingleLine||this.ellipsis}},typeClass:function(){var t=this.checkType,e="afs-typography_";return t.isLargeTitle?e+"large-title":t.isMediumTitle?e+"medium-title":t.isTitle?e+"title":t.isSingleLine?e+"single-line":t.isHint||t.isTooltip?e+"hint-tooltip":t.isGroup?e+"group":t.isSticker?e+"sticker":t.isText?e+"text":e+"paragraph"},componentType:function(){return this.tag?this.tag:this.inline?"span":"div"}},methods:{getBEMClass:function(t){return Object(o.a)("afs-typography",t)}}},a=(n(49),n(0)),c=Object(a.a)(s,i,[],!1,null,null,null).exports;e.a=c},63:function(t,e,n){"use strict";n(42)},7:function(t,e){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}t.exports=function(t){var e={};function i(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,i),o.l=!0,o.exports}return i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==n(t)&&t&&t.__esModule)return t;var o=Object.create(null);if(i.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(o,r,function(e){return t[e]}.bind(null,r));return o},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=0)}([function(t,e,n){"use strict";n.r(e),e.default=function(){return["","","-","-","-","-","","",""].reduce((function(t,e){return t+Math.floor(65536*(1+Math.random())).toString(16).substring(1)+e}))}}])},71:function(t,e,n){"use strict";n(47)},8:function(t,e,n){"use strict";var i=function(){var t=this._self._c;return t("transition",{attrs:{name:"fade","enter-class":"afs-context-menu_enter","leave-to-class":"afs-context-menu_leave-to","enter-active-class":"afs-context-menu_enter-active","leave-active-class":"afs-context-menu_leave-active"}},[this.isOpened&&this.isExist?t("div",{directives:[{name:"inject",rawName:"v-inject"}],staticClass:"afs-context-menu",class:this.classes,style:this.style,attrs:{"data-id":this.id}},[t("div",{staticClass:"afs-context-menu__inner"},[this._t("default",null,{getBEMClass:this.getBEMClass})],2)]):this._e()])};i._withStripped=!0;var o=n(1),r=n(3),s=n(2),a=n(13);n(40);function c(t){return function(t){if(Array.isArray(t))return u(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return u(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}var l={y:["top","bottom","end","start","center"],x:["left","right","end","start","center"]},f={control:"control",auto:"auto"},d="top-left top-right bottom-right bottom-left",p={name:"AfsContextMenu",directives:{inject:a.a},props:{type:{type:String,default:"",required:!0,validator:function(t){return["dropdown","hint","tooltip"].some((function(e){return e===t}))}},modifiers:{type:Object,default:function(){return{y:"bottom",x:"right"}},validator:function(t){if(Object.is(t))return!1;var e=t.x,n=t.y,i=l.y.some((function(t){return t===n})),o=l.x.some((function(t){return t===e}));return i&&o}},id:{type:[String,Number],default:"context-menu"},offsetY:{type:[Number,String],default:0,validator:function(t){return isFinite(+t)}},offsetX:{type:[Number,String],default:0,validator:function(t){return isFinite(+t)}},viewboxOffsetY:{type:[Number,String],default:20,validator:function(t){return isFinite(+t)}},viewboxOffsetX:{type:[Number,String],default:20,validator:function(t){return isFinite(+t)}},borderRadius:{type:String,default:d,validator:function(t){var e=d.split(" ");return t.split(" ").every((function(t){return e.includes(t)}))}},width:{type:[Number,String],default:"auto",validator:function(t){return isFinite(+t)||!!f[t]}},maxWidth:{type:[Number,String],default:null,validator:function(t){return isFinite(+t)}},minWidth:{type:[Number,String],default:0,validator:function(t){return isFinite(+t)}},height:{type:[Number,String],default:"auto",validator:function(t){return isFinite(+t)||!!f[t]}},maxHeight:{type:[Number,String],default:null,validator:function(t){return isFinite(+t)}},minHeight:{type:[Number,String],default:0,validator:function(t){return isFinite(+t)}},hasArrow:{type:Boolean,default:!1},isError:{type:Boolean,default:!1},isExist:{type:Boolean,default:!0}},data:function(){return{control:null,top:0,left:0,sizes:{width:null,maxWidth:null,minWidth:null,height:null,maxHeight:null,minHeight:null},isOpened:!1,showToBottom:null,showToRight:null}},computed:{classes:function(){var t=this.showToBottom,e=this.showToRight,n={left:"afs-context-menu_left",right:"afs-context-menu_right",start:"afs-context-menu_x-start",end:"afs-context-menu_x-end",center:"afs-context-menu_x-center"},i={top:"afs-context-menu_top",bottom:"afs-context-menu_bottom",start:"afs-context-menu_y-start",end:"afs-context-menu_y-end",center:"afs-context-menu_y-center"},o=null,r=null;return this.direction.y.top||this.direction.y.bottom?o=t?i.bottom:i.top:this.direction.y.start||this.direction.y.end?o=t?i.start:i.end:this.direction.y.center&&(o=i.center),this.direction.x.right||this.direction.x.left?r=e?n.right:n.left:this.direction.x.start||this.direction.x.end?r=t?n.start:n.end:this.direction.x.center&&(r=n.center),[this.themeClass,o,r,{"afs-context-menu_arrow":this.hasArrow,"afs-context-menu_error":this.isError},"afs-context-menu_".concat(this.type)].concat(c(this.borderRadius.split(" ").map((function(t){return"afs-context-menu_border-".concat(t,"-radius")}))))},themeClass:function(){var t=Object(r.a)(this.$root);return Object(o.c)(t.theme)},style:function(){return{top:"".concat(this.top,"px"),left:"".concat(this.left,"px"),width:this.sizes.width&&"".concat(this.sizes.width,"px"),height:this.sizes.height&&"".concat(this.sizes.height,"px")}},direction:function(){return{y:{top:"top"===this.modifiers.y,bottom:"bottom"===this.modifiers.y,start:"start"===this.modifiers.y,end:"end"===this.modifiers.y,center:"center"===this.modifiers.y},x:{left:"left"===this.modifiers.x,right:"right"===this.modifiers.x,start:"start"===this.modifiers.x,end:"end"===this.modifiers.x,center:"center"===this.modifiers.x}}},isDropdown:function(){return"dropdown"===this.type},isHint:function(){return"hint"===this.type},isTooltip:function(){return"tooltip"===this.type},toBottom:function(){return this.direction.y.bottom||this.direction.y.start},toRight:function(){return this.direction.x.right||this.direction.x.start}},watch:{isOpened:{immediate:!0,handler:function(t){t?(!this.isHint&&document.addEventListener("click",this.handleDocumentClick,!0),window.addEventListener("resize",this.handleWindowResize)):(!this.isHint&&document.removeEventListener("click",this.handleDocumentClick,!0),window.removeEventListener("resize",this.handleWindowResize))}},toBottom:function(){this.showToBottom=this.toBottom},toRight:function(){this.showToRight=this.toRight}},mounted:function(){s.b.set({id:this.id,component:this})},beforeDestroy:function(){s.b.delete(this.id)},methods:{getBEMClass:function(t){return Object(o.a)("afs-context-menu",t)},showByElement:function(t){this._open(),this.setPositionByElement(t)},recalc:function(){this.isOpened&&(this._reset(),this.setPositionByElement(this.control))},setPositionByElement:function(t){var e=this,n=t.getBoundingClientRect();this.top=-99999,this.left=-99999,this.$nextTick((function(){if(e.$el.getBoundingClientRect){var i=e.getViewbox(),o=e.$el.getBoundingClientRect(),r={width:Math.max(e.minWidth,f.control===e.width?n.width:f.auto===e.width?o.width:e.width),height:Math.max(e.minHeight,f.control===e.height?n.height:f.auto===e.height?o.height:e.height)},s=e.getContainerPositionAndMaxSize({direction:e.modifiers.y,viewbox:i.y,offset:+e.offsetY,control:{size:n.height,position:n.top},container:{size:null!==e.maxHeight&&+e.maxHeight<r.height?+e.maxHeight:r.height}}),a=e.getContainerPositionAndMaxSize({direction:e.modifiers.x,viewbox:i.x,offset:+e.offsetX,control:{size:n.width,position:n.left},container:{size:null!==e.maxWidth&&+e.maxWidth<r.width?+e.maxWidth:r.width}}),c=e.maxWidth&&+e.maxWidth<a.maxSize?+e.maxWidth:a.maxSize,u=e.maxHeight&&+e.maxHeight<s.maxSize?+e.maxHeight:s.maxSize;e.top=s.position,e.left=a.position,e.sizes.width=Math.min(r.width,c),e.sizes.height=Math.min(r.height,u)}else e.setPositionByElement(t)}))},getContainerPositionAndMaxSize:function(t){var e=t.direction,n=t.viewbox,i=t.offset,o=t.control,r=t.container,s="center"===e,a="start"===e,c="end"===e,u="top"===e||"left"===e,l=s?o.position+o.size/2-r.size/2:a?o.position+i:c?o.position+o.size-r.size-i:u?o.position-r.size-i:o.position+o.size+i;return{position:c||u?Math.max(l,n.min):l,maxSize:s?n.size:c||u?r.size-(n.min-l):n.max-l}},getViewbox:function(){var t=+this.viewboxOffsetY,e=+this.viewboxOffsetX;return{y:{min:t,max:window.innerHeight-t,size:window.innerHeight-2*t},x:{min:e,max:window.innerWidth-e,size:window.innerWidth-2*e}}},handleWindowResize:function(){this._close()},handleDocumentClick:function(t){var e=this;t.path.some((function(t){return t===e.$el}))||t.path.some((function(t){return t.dataset&&t.dataset.afsDropdownControl===e.id}))||this._close()},_reset:function(){this.sizes.width=null,this.sizes.height=null},_open:function(){this.isOpened||(this.isOpened=!0,this.$emit("open"))},_close:function(){this.isOpened&&(this.isOpened=!1,this._reset(),this.$emit("close"))},toggle:function(t){this.isOpened?this.close():this.open(t)},open:function(t){!this.isOpened&&t&&this.isExist&&(this.control=t,this.showByElement(t))},close:function(){this.isOpened&&this.isExist&&this._close()}}},h=n(0),m=(Object(h.a)(p,i,[],!1,null,null,null).exports,function(){var t=this,e=t._self._c;return e(t.tag,{tag:"component",staticClass:"afs-context-menu__section"},[t.items.length?t._l(t.items,(function(n){return e(t.itemTag,{key:n.id,tag:"component",staticClass:"afs-context-menu__item"},[t._t("item",null,{data:n})],2)})):t._e(),t._v(" "),t._t("default")],2)});m._withStripped=!0;var y={ul:"li",div:"div"},v={name:"AfsContextMenuSection",props:{tag:{type:String,default:"ul",validator:function(t){return!!y[t]}},items:{type:Array,default:function(){return[]}}},computed:{itemTag:function(){return y[this.tag]}}},b=(Object(h.a)(v,m,[],!1,null,null,null).exports,function(){var t=this._self._c;return t("button",{staticClass:"afs-context-menu__item-in afs-context-menu__item-clickable",class:{"afs-context-menu__item-in_icon":this.hasIcon},attrs:{type:this.type,disabled:this.disabled}},[this.hasIcon?t("Icon",{staticClass:"afs-context-menu__item-icon",attrs:{name:this.icon}}):this._e(),this._v(" "),t("AfsText",{attrs:{type:"single line",inline:""}},[this._t("default")],2)],1)});b._withStripped=!0;var g=n(4),w=n(5),x={name:"AfsContextMenuButton",components:{Icon:g.a,AfsText:w.a},props:{type:{type:String,default:"button"},icon:{type:String,default:""},disabled:{type:Boolean,default:!1}},computed:{hasIcon:function(){return!!this.icon.length}}},_=(Object(h.a)(x,b,[],!1,null,null,null).exports,function(){var t=this._self._c;return t("div",{staticClass:"afs-context-menu__head"},[t("AfsText",{attrs:{type:"medium title"}},[this._t("default")],2),this._v(" "),t("button",{staticClass:"afs-context-menu__btn-close",on:{click:this.onClose}},[t("Icon",{staticClass:"afs-context-menu__icon-close",attrs:{name:"close-8"}})],1)],1)});_._withStripped=!0;var O={name:"Head",components:{Icon:g.a,AfsText:w.a},methods:{onClose:function(){var t=document.querySelector("body");t&&t.click(),this.$emit("close")}}},S=(Object(h.a)(O,_,[],!1,null,null,null).exports,function(){return(0,this._self._c)("div",{staticClass:"afs-context-menu__footer",style:{"justify-content":this.justify}},[this._t("default")],2)});S._withStripped=!0;var P={name:"Head",props:{justify:{type:String,default:""}}},j=(Object(h.a)(P,S,[],!1,null,null,null).exports,function(){var t=this,e=t._self._c;return e("transition",{attrs:{name:"fade","enter-class":"afs-context-menu_enter","leave-to-class":"afs-context-menu_leave-to","enter-active-class":"afs-context-menu_enter-active","leave-active-class":"afs-context-menu_leave-active"}},[t.isOpened&&t.isExist?e("div",{directives:[{name:"inject",rawName:"v-inject:[parentContainerId]",arg:t.parentContainerId}],staticClass:"afs-context-menu",class:t.classes,style:t.style,attrs:{"data-locator":t.dataLocator,"data-id":t.id}},[t.isInfotooltip?e("div",{staticClass:"afs-context-menu__connector"}):t._e(),t._v(" "),e("div",{staticClass:"afs-context-menu__inner"},[t._t("default",(function(){return[t.text?e("span",[t._v(t._s(t.text))]):t._e()]}),{getBEMClass:t.getBEMClass})],2)]):t._e()])});function C(t){return function(t){if(Array.isArray(t))return E(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return E(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return E(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}j._withStripped=!0;var D={y:["top","bottom","end","start","center"],x:["left","right","end","start","center"]},I={name:"AfsContextMenu",directives:{inject:a.a},props:{type:{type:String,default:"",required:!0,validator:function(t){return["dropdown","hint","tooltip","infotooltip"].some((function(e){return e===t}))}},modifiers:{type:Object,default:function(){return{y:"bottom",x:"center"}},validator:function(t){if(Object.is(t))return!1;var e=t.x,n=t.y,i=D.y.some((function(t){return t===n})),o=D.x.some((function(t){return t===e}));return i&&o}},id:{type:[String,Number],default:"context-menu"},borderRadius:{type:String,default:"top-left top-right bottom-right bottom-left",validator:function(t){var e="top-left top-right bottom-right bottom-left".split(" ");return t.split(" ").every((function(t){return e.includes(t)}))}},dataLocator:{type:String,default:"context-menu"},isSticky:{type:Boolean,default:!1},showAtCursor:{type:Boolean,default:!1},offset:{type:Number,default:4},viewboxOffset:{type:Number,default:20},arrow:{type:Boolean,default:!1},wide:{type:Boolean,default:!1},fullWidth:{type:Boolean,default:!1},initWidth:{type:[Number,String],default:0},error:{type:Boolean,default:!1},isExist:{type:Boolean,default:!0},maxHeightLimit:{type:Number,default:Number.MAX_SAFE_INTEGER},maxWidthLimit:{type:Number,default:Number.MAX_SAFE_INTEGER},parentContainerId:{type:String,default:""},closeOnIframeClick:{type:Boolean,default:!1},closeOnEsc:{type:Boolean,default:!1}},data:function(){return{parent:null,top:0,left:0,width:null,maxWidth:null,minWidth:null,maxHeight:null,isOpened:!1,showToBottom:null,showToRight:null,text:""}},computed:{classes:function(){var t=this.showToBottom,e=this.showToRight,n={left:"afs-context-menu_left",right:"afs-context-menu_right",start:"afs-context-menu_x-start",end:"afs-context-menu_x-end",center:"afs-context-menu_x-center"},i={top:"afs-context-menu_top",bottom:"afs-context-menu_bottom",start:"afs-context-menu_y-start",end:"afs-context-menu_y-end",center:"afs-context-menu_y-center"},o=null,r=null;return this.direction.y.top||this.direction.y.bottom?o=t?i.bottom:i.top:this.direction.y.start||this.direction.y.end?o=t?i.start:i.end:this.direction.y.center&&(o=i.center),this.direction.x.right||this.direction.x.left?r=e?n.right:n.left:this.direction.x.start||this.direction.x.end?r=t?n.start:n.end:this.direction.x.center&&(r=n.center),[this.themeClass,o,r,{"afs-context-menu_arrow":this.arrow,"afs-context-menu_error":this.error},"afs-context-menu_".concat(this.type)].concat(C(this.borderRadius.split(" ").map((function(t){return"afs-context-menu_border-".concat(t,"-radius")}))))},themeClass:function(){var t=Object(r.a)(this.$root);return Object(o.c)(t.theme)},style:function(){return{top:"".concat(this.top,"px"),left:"".concat(this.left,"px"),width:this.fullWidth&&this.width&&"".concat(this.width,"px")||!!this.initWidth&&"".concat(this.initWidth,"px"),"min-width":this.wide&&this.minWidth&&"".concat(this.minWidth,"px"),"max-width":this.maxWidth&&"".concat(this.maxWidth,"px"),"max-height":this.maxHeight&&"".concat(this.maxHeight,"px")}},direction:function(){return{y:{top:"top"===this.modifiers.y,bottom:"bottom"===this.modifiers.y,start:"start"===this.modifiers.y,end:"end"===this.modifiers.y,center:"center"===this.modifiers.y},x:{left:"left"===this.modifiers.x,right:"right"===this.modifiers.x,start:"start"===this.modifiers.x,end:"end"===this.modifiers.x,center:"center"===this.modifiers.x}}},isDropdown:function(){return"dropdown"===this.type},isHint:function(){return"hint"===this.type},isTooltip:function(){return"tooltip"===this.type},isInfotooltip:function(){return"infotooltip"===this.type},toBottom:function(){return this.direction.y.bottom||this.direction.y.start},toRight:function(){return this.direction.x.right||this.direction.x.start},api:function(){var t=this;return{open:this.open,close:this.close,setText:this.setText,toggle:this.toggle,showImmediately:function(){return t.isSticky&&t.isOpened},on:function(e,n){return t.$on(e,n)},off:function(e,n){return t.$off(e,n)}}}},watch:{isOpened:{immediate:!0,handler:function(t){t?(this.isHint||(document.addEventListener("click",this.handleDocumentClick,!0),this.closeOnIframeClick&&(window.focus(),window.addEventListener("blur",this.handleIframeClick,!0)),this.closeOnEsc&&window.addEventListener("keydown",this.handleEsc,!0)),window.addEventListener("resize",this.handleWindowResize)):(this.isHint||(document.removeEventListener("click",this.handleDocumentClick,!0),this.closeOnIframeClick&&window.removeEventListener("blur",this.handleIframeClick,!0),this.closeOnEsc&&window.removeEventListener("keydown",this.handleEsc,!0)),window.removeEventListener("resize",this.handleWindowResize))}},toBottom:function(){this.showToBottom=this.toBottom},toRight:function(){this.showToRight=this.toRight}},mounted:function(){s.b.set({id:this.id,component:this.api})},beforeDestroy:function(){s.b.delete(this.id)},methods:{setText:function(t){this.text=t},getBEMClass:function(t){return Object(o.a)("afs-context-menu",t)},showByCoordinates:function(t){var e=t.x,n=t.y;this._open(),this.setPositionByCoordinates({x:e,y:n})},showByElement:function(t,e){this._open(),this.setPositionByElement(t,e)},setPositionByElement:function(t,e){var n=this,i=this.direction,o=t.getBoundingClientRect();this.top=-99999,this.left=-99999,this.$nextTick((function(){if(n.$el.getBoundingClientRect){var r=n.getViewbox(),s=n.$el.getBoundingClientRect(),a=n.getContainerPositionAndMaxSize({direction:{primary:i.y.bottom,secondary:i.y.top,start:i.y.start,end:i.y.end,center:i.y.center},controlSize:e&&e.controlSize?e.controlSize:o.height,controlPosition:e&&e.y?e.y:o.top,containerSize:Math.min(s.height,n.maxHeightLimit),viewbox:r.y}),c=n.getContainerPositionAndMaxSize({direction:{primary:i.x.right,secondary:i.x.left,start:i.x.start,end:i.x.end,center:i.x.center},controlSize:e&&e.controlSize?e.controlSize:o.width,controlPosition:e&&e.x?e.x:o.left,containerSize:Math.min(s.width,n.maxWidthLimit),viewbox:r.x});n.top=a.position,n.left=c.position,n.maxHeight=n.isHint?null:Math.min(a.maxSize||Number.MAX_SAFE_INTEGER,n.maxHeightLimit),n.maxWidth=Math.min(c.maxSize||Number.MAX_SAFE_INTEGER,n.maxWidthLimit),n.showToBottom=(i.y.bottom||i.y.start)&&a.primary!==a.secondary||(i.y.top||i.y.end)&&(a.primary===a.secondary||a.primary===r.y.min),n.showToRight=(i.x.left||i.x.end)&&(c.primary===c.secondary||c.primary===r.x.min)||(i.x.right||i.x.start)&&c.primary!==c.secondary}else n.setPositionByElement(t,e)}))},getContainerPositionAndMaxSize:function(t){var e=t.direction,n=t.controlSize,i=t.controlPosition,o=t.containerSize,r=t.viewbox,s=this.offset,a=e.primary||e.start,c=e.secondary||e.end,u=0,l=0,f=null,d={size:r.size<o};return a?(e.primary?(u=i+n+s,l=i-o-s):e.start&&(u=i,l=i+n-o),d.primaryMin=u<r.min,d.primaryMax=u+o>r.max,d.secondaryMin=l<r.min,d.secondaryMax=l+o>r.max,d.size?(u=r.min,f=r.size):d.primaryMin&&!d.size?u=r.min:d.primaryMax&&(d.secondaryMin||d.secondaryMax)&&!d.size?u=r.max-o:!d.primaryMax||d.secondaryMin||d.secondaryMax||d.size||(u=l)):c?(e.secondary?(u=i-s-o,l=i+n+s):e.end&&(u=i+n-o,l=i),d.primaryMin=u<r.min,d.primaryMax=u+o>r.max,d.secondaryMin=l<r.min,d.secondaryMax=l+o>r.max,d.size?(u=r.min,f=r.size):d.primaryMax&&!d.size?u=r.max-o:d.primaryMin&&(d.secondaryMin||d.secondaryMax)&&!d.size?u=r.min:!d.primaryMin||d.secondaryMin||d.secondaryMax||d.size||(u=l)):e.center&&(u=i+n/2-o/2,d.min=r.min>u,d.max=r.max<u+o,!d.min||d.max||d.size?d.min||!d.max||d.size?d.size&&(u=r.min,f=r.size):u=r.max-o:u=r.min),{position:u,maxSize:f,primary:u,secondary:l}},setPositionByCoordinates:function(t){var e=this,n=t.x,i=t.y,o=this.direction;this.top=0,this.left=0;var r=i,s=n;this.$nextTick((function(){if(e.$el.getBoundingClientRect){var t=e.getViewbox(),n=e.$el.getBoundingClientRect(),i=e.getContainerPositionAndMaxSize({direction:{primary:o.y.bottom,secondary:o.y.top,start:o.y.start,end:o.y.end,center:o.y.center},controlSize:0,controlPosition:r,containerSize:n.height,viewbox:t.y}),a=e.getContainerPositionAndMaxSize({direction:{primary:o.x.right,secondary:o.x.left,start:o.x.start,end:o.x.end,center:o.x.center},controlSize:0,controlPosition:s,containerSize:n.width,viewbox:t.x});e.top=i.position,e.left=a.position,e.maxHeight=i.maxSize,e.maxWidth=a.maxSize}else e.setPositionByCoordinates({x:s,y:r})}))},handleWindowResize:function(){this._close()},handleDocumentClick:function(t){var e=this;t.path.some((function(t){return t===e.$el}))||t.path.some((function(t){return t.dataset&&t.dataset.afsDropdownControl===e.id}))||this._close(t)},getViewbox:function(){var t=this.viewboxOffset;return{y:{min:t,max:window.innerHeight-t,size:window.innerHeight-2*t},x:{min:t,max:window.innerWidth-t,size:window.innerWidth-2*t}}},_open:function(){this.isOpened||(this.isOpened=!0,this.$emit("open"))},_close:function(t){this.isOpened&&(this.isOpened=!1,this.parent=null,this.maxWidth=null,this.maxHeight=null,this.$emit("close",t))},isOpenedOnSameParent:function(t){return this.isOpened&&this.parent===t},toggle:function(t){this.isOpenedOnSameParent(t)?this.close():this.open(t)},open:function(t,e){if("$el"in t&&(t=t.$el),t&&this.isExist){this.parent!==t&&(this.parent=t);var n=t.getBoundingClientRect().width;this.width=n,this.minWidth=n,this.showByElement(t,this.showAtCursor||this.isSticky?{x:e.clientX,y:e.clientY,controlSize:1}:null)}},close:function(){this.isOpened&&this.isExist&&this._close()},handleIframeClick:function(){document.activeElement===document.querySelector("iframe")&&this.close()},handleEsc:function(t){27===t.keyCode&&this.close()}}},k=(n(63),Object(h.a)(I,j,[],!1,null,null,null).exports);e.a=k},84:function(t,e){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}t.exports=function(t){var e={};function i(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,i),o.l=!0,o.exports}return i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==n(t)&&t&&t.__esModule)return t;var o=Object.create(null);if(i.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(o,r,function(e){return t[e]}.bind(null,r));return o},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=1)}([function(t,e){function i(e){return"function"==typeof Symbol&&"symbol"==n(Symbol.iterator)?(t.exports=i=function(t){return n(t)},t.exports.default=t.exports,t.exports.__esModule=!0):(t.exports=i=function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":n(t)},t.exports.default=t.exports,t.exports.__esModule=!0),i(e)}t.exports=i,t.exports.default=t.exports,t.exports.__esModule=!0},function(t,e,n){"use strict";n.r(e);var i=n(0),o=n.n(i),r=(window,function(t){return window.__afsComponents&&window.__afsComponents[t]});Object.freeze({SM:"sm",MD:"md",LG:"lg"}),e.default={inserted:function(t,e){var n=e.value;if("object"===o()(n)&&null!==n&&!Array.isArray(n)){var i=null,s=(null==n?void 0:n.id)||"app-trimmed-text-hint",a=function(){var e=r(s);if(e){var i=function(){return e.setText(n.hint)};e.on&&e.on("open",i),e.open&&e.open(t),e.off&&e.off("open",i)}};t.addEventListener("mouseenter",(function(e){var o=t.cloneNode(!0);o.style.width="auto",o.style.display="inline",o.style.overflow="hidden",o.visibility="hidden",document.body.appendChild(o);var r=o.offsetWidth;o.remove(),r<t.scrollWidth||(n.noDelay?a():i=setTimeout(a,n.delay||1e3))}),!1),t.addEventListener("mouseleave",(function(e){i&&clearTimeout(i);var n=r(s);if(n){var o=function(){return n.setText(null)};n.on&&n.on("close",o),n.close&&n.close(t),n.off&&n.off("close",o)}}),!1)}}}}])},898:function(t,e,n){},899:function(t,e,n){},900:function(t,e,n){}});